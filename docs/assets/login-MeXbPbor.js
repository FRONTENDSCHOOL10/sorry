import"./style-BCY5TPei.js";import{c as d}from"./pocketbase-CS1zegQ2.js";import{g as c,s as u}from"./storage-SRs95MA1.js";const o=document.querySelector(".login__user__id"),r=document.querySelector(".login__user__password"),t=document.querySelector(".login__button"),a=()=>{const e=o.value.trim(),s=r.value.trim();e&&s?(t.classList.remove("disabled"),t.disabled=!1):(t.classList.add("disabled"),t.disabled=!0)};o.addEventListener("input",a);r.addEventListener("input",a);const i=()=>{const e=o.value.trim(),s=r.value.trim();if(e)if(s)d.collection("users").authWithPassword(e,s).then(async()=>{const{model:n,token:l}=await c("pocketbase_auth");u("auth",{isAuth:n,user:n,token:l}),alert("로그인 완료! 메인페이지로 이동합니다."),location.href="/index.html"},()=>{alert("인증된 사용자가 아닙니다."),confirm("회원가입 페이지로 이동하시겠습니까?")===!0?location.href="/src/pages/signup/signUp.html":location.reload()});else{alert("비밀번호를 입력해 주세요!");return}else{alert("아이디를 입력해 주세요!");return}};t.addEventListener("click",e=>{e.preventDefault(),i()});document.addEventListener("keypress",e=>{e.key==="Enter"&&(e.preventDefault(),t.disabled||i())});
